name: On push workflow
on: [push]
jobs:
    Test-something:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout code
              uses: actions/checkout@v2
              
            - name: Set virtul env
              run:  
                python3 -m venv .venv
                source .venv/bin/activate

            - name: Istall requirements
              run: pip install -r requirements.txt
            
            - name: Testing app
              run: 
                python3 -m pytest --cov=test_app
                coverage report -m | grep TOTAL > file.txt
                
